/* SWFObject v2.1 <http://code.google.com/p/swfobject/>
	Copyright (c) 2007-2008 Geoff Stearns, Michael Williams, and Bobby van der Sluis
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var swfobject=function(){var b="undefined",Q="object",n="Shockwave Flash",p="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",m="SWFObjectExprInst",j=window,K=document,T=navigator,o=[],N=[],i=[],d=[],J,Z=null,M=null,l=null,e=false,A=false;var h=function(){var v=typeof K.getElementById!=b&&typeof K.getElementsByTagName!=b&&typeof K.createElement!=b,AC=[0,0,0],x=null;if(typeof T.plugins!=b&&typeof T.plugins[n]==Q){x=T.plugins[n].description;if(x&&!(typeof T.mimeTypes!=b&&T.mimeTypes[P]&&!T.mimeTypes[P].enabledPlugin)){x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");AC[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);AC[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);AC[2]=/r/.test(x)?parseInt(x.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof j.ActiveXObject!=b){var y=null,AB=false;try{y=new ActiveXObject(p+".7")}catch(t){try{y=new ActiveXObject(p+".6");AC=[6,0,21];y.AllowScriptAccess="always"}catch(t){if(AC[0]==6){AB=true}}if(!AB){try{y=new ActiveXObject(p)}catch(t){}}}if(!AB&&y){try{x=y.GetVariable("$version");if(x){x=x.split(" ")[1].split(",");AC=[parseInt(x[0],10),parseInt(x[1],10),parseInt(x[2],10)]}}catch(t){}}}}var AD=T.userAgent.toLowerCase(),r=T.platform.toLowerCase(),AA=/webkit/.test(AD)?parseFloat(AD.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,q=false,z=r?/win/.test(r):/win/.test(AD),w=r?/mac/.test(r):/mac/.test(AD);/*@cc_on q=true;@if(@_win32)z=true;@elif(@_mac)w=true;@end@*/return{w3cdom:v,pv:AC,webkit:AA,ie:q,win:z,mac:w}}();var L=function(){if(!h.w3cdom){return }f(H);if(h.ie&&h.win){try{K.write("<script id=__ie_ondomload defer=true src=//:><\/script>");J=C("__ie_ondomload");if(J){I(J,"onreadystatechange",S)}}catch(q){}}if(h.webkit&&typeof K.readyState!=b){Z=setInterval(function(){if(/loaded|complete/.test(K.readyState)){E()}},10)}if(typeof K.addEventListener!=b){K.addEventListener("DOMContentLoaded",E,null)}R(E)}();function S(){if(J.readyState=="complete"){J.parentNode.removeChild(J);E()}}function E(){if(e){return }if(h.ie&&h.win){var v=a("span");try{var u=K.getElementsByTagName("body")[0].appendChild(v);u.parentNode.removeChild(u)}catch(w){return }}e=true;if(Z){clearInterval(Z);Z=null}var q=o.length;for(var r=0;r<q;r++){o[r]()}}function f(q){if(e){q()}else{o[o.length]=q}}function R(r){if(typeof j.addEventListener!=b){j.addEventListener("load",r,false)}else{if(typeof K.addEventListener!=b){K.addEventListener("load",r,false)}else{if(typeof j.attachEvent!=b){I(j,"onload",r)}else{if(typeof j.onload=="function"){var q=j.onload;j.onload=function(){q();r()}}else{j.onload=r}}}}}function H(){var t=N.length;for(var q=0;q<t;q++){var u=N[q].id;if(h.pv[0]>0){var r=C(u);if(r){N[q].width=r.getAttribute("width")?r.getAttribute("width"):"0";N[q].height=r.getAttribute("height")?r.getAttribute("height"):"0";if(c(N[q].swfVersion)){if(h.webkit&&h.webkit<312){Y(r)}W(u,true)}else{if(N[q].expressInstall&&!A&&c("6.0.65")&&(h.win||h.mac)){k(N[q])}else{O(r)}}}}else{W(u,true)}}}function Y(t){var q=t.getElementsByTagName(Q)[0];if(q){var w=a("embed"),y=q.attributes;if(y){var v=y.length;for(var u=0;u<v;u++){if(y[u].nodeName=="DATA"){w.setAttribute("src",y[u].nodeValue)}else{w.setAttribute(y[u].nodeName,y[u].nodeValue)}}}var x=q.childNodes;if(x){var z=x.length;for(var r=0;r<z;r++){if(x[r].nodeType==1&&x[r].nodeName=="PARAM"){w.setAttribute(x[r].getAttribute("name"),x[r].getAttribute("value"))}}}t.parentNode.replaceChild(w,t)}}function k(w){A=true;var u=C(w.id);if(u){if(w.altContentId){var y=C(w.altContentId);if(y){M=y;l=w.altContentId}}else{M=G(u)}if(!(/%$/.test(w.width))&&parseInt(w.width,10)<310){w.width="310"}if(!(/%$/.test(w.height))&&parseInt(w.height,10)<137){w.height="137"}K.title=K.title.slice(0,47)+" - Flash Player Installation";var z=h.ie&&h.win?"ActiveX":"PlugIn",q=K.title,r="MMredirectURL="+j.location+"&MMplayerType="+z+"&MMdoctitle="+q,x=w.id;if(h.ie&&h.win&&u.readyState!=4){var t=a("div");x+="SWFObjectNew";t.setAttribute("id",x);u.parentNode.insertBefore(t,u);u.style.display="none";var v=function(){u.parentNode.removeChild(u)};I(j,"onload",v)}U({data:w.expressInstall,id:m,width:w.width,height:w.height},{flashvars:r},x)}}function O(t){if(h.ie&&h.win&&t.readyState!=4){var r=a("div");t.parentNode.insertBefore(r,t);r.parentNode.replaceChild(G(t),r);t.style.display="none";var q=function(){t.parentNode.removeChild(t)};I(j,"onload",q)}else{t.parentNode.replaceChild(G(t),t)}}function G(v){var u=a("div");if(h.win&&h.ie){u.innerHTML=v.innerHTML}else{var r=v.getElementsByTagName(Q)[0];if(r){var w=r.childNodes;if(w){var q=w.length;for(var t=0;t<q;t++){if(!(w[t].nodeType==1&&w[t].nodeName=="PARAM")&&!(w[t].nodeType==8)){u.appendChild(w[t].cloneNode(true))}}}}}return u}function U(AG,AE,t){var q,v=C(t);if(v){if(typeof AG.id==b){AG.id=t}if(h.ie&&h.win){var AF="";for(var AB in AG){if(AG[AB]!=Object.prototype[AB]){if(AB.toLowerCase()=="data"){AE.movie=AG[AB]}else{if(AB.toLowerCase()=="styleclass"){AF+=' class="'+AG[AB]+'"'}else{if(AB.toLowerCase()!="classid"){AF+=" "+AB+'="'+AG[AB]+'"'}}}}}var AD="";for(var AA in AE){if(AE[AA]!=Object.prototype[AA]){AD+='<param name="'+AA+'" value="'+AE[AA]+'" />'}}v.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AF+">"+AD+"</object>";i[i.length]=AG.id;q=C(AG.id)}else{if(h.webkit&&h.webkit<312){var AC=a("embed");AC.setAttribute("type",P);for(var z in AG){if(AG[z]!=Object.prototype[z]){if(z.toLowerCase()=="data"){AC.setAttribute("src",AG[z])}else{if(z.toLowerCase()=="styleclass"){AC.setAttribute("class",AG[z])}else{if(z.toLowerCase()!="classid"){AC.setAttribute(z,AG[z])}}}}}for(var y in AE){if(AE[y]!=Object.prototype[y]){if(y.toLowerCase()!="movie"){AC.setAttribute(y,AE[y])}}}v.parentNode.replaceChild(AC,v);q=AC}else{var u=a(Q);u.setAttribute("type",P);for(var x in AG){if(AG[x]!=Object.prototype[x]){if(x.toLowerCase()=="styleclass"){u.setAttribute("class",AG[x])}else{if(x.toLowerCase()!="classid"){u.setAttribute(x,AG[x])}}}}for(var w in AE){if(AE[w]!=Object.prototype[w]&&w.toLowerCase()!="movie"){F(u,w,AE[w])}}v.parentNode.replaceChild(u,v);q=u}}}return q}function F(t,q,r){var u=a("param");u.setAttribute("name",q);u.setAttribute("value",r);t.appendChild(u)}function X(r){var q=C(r);if(q&&(q.nodeName=="OBJECT"||q.nodeName=="EMBED")){if(h.ie&&h.win){if(q.readyState==4){B(r)}else{j.attachEvent("onload",function(){B(r)})}}else{q.parentNode.removeChild(q)}}}function B(t){var r=C(t);if(r){for(var q in r){if(typeof r[q]=="function"){r[q]=null}}r.parentNode.removeChild(r)}}function C(t){var q=null;try{q=K.getElementById(t)}catch(r){}return q}function a(q){return K.createElement(q)}function I(t,q,r){t.attachEvent(q,r);d[d.length]=[t,q,r]}function c(t){var r=h.pv,q=t.split(".");q[0]=parseInt(q[0],10);q[1]=parseInt(q[1],10)||0;q[2]=parseInt(q[2],10)||0;return(r[0]>q[0]||(r[0]==q[0]&&r[1]>q[1])||(r[0]==q[0]&&r[1]==q[1]&&r[2]>=q[2]))?true:false}function V(v,r){if(h.ie&&h.mac){return }var u=K.getElementsByTagName("head")[0],t=a("style");t.setAttribute("type","text/css");t.setAttribute("media","screen");if(!(h.ie&&h.win)&&typeof K.createTextNode!=b){t.appendChild(K.createTextNode(v+" {"+r+"}"))}u.appendChild(t);if(h.ie&&h.win&&typeof K.styleSheets!=b&&K.styleSheets.length>0){var q=K.styleSheets[K.styleSheets.length-1];if(typeof q.addRule==Q){q.addRule(v,r)}}}function W(t,q){var r=q?"visible":"hidden";if(e&&C(t)){C(t).style.visibility=r}else{V("#"+t,"visibility:"+r)}}function g(s){var r=/[\\\"<>\.;]/;var q=r.exec(s)!=null;return q?encodeURIComponent(s):s}var D=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var w=d.length;for(var v=0;v<w;v++){d[v][0].detachEvent(d[v][1],d[v][2])}var t=i.length;for(var u=0;u<t;u++){X(i[u])}for(var r in h){h[r]=null}h=null;for(var q in swfobject){swfobject[q]=null}swfobject=null})}}();return{registerObject:function(u,q,t){if(!h.w3cdom||!u||!q){return }var r={};r.id=u;r.swfVersion=q;r.expressInstall=t?t:false;N[N.length]=r;W(u,false)},getObjectById:function(v){var q=null;if(h.w3cdom){var t=C(v);if(t){var u=t.getElementsByTagName(Q)[0];if(!u||(u&&typeof t.SetVariable!=b)){q=t}else{if(typeof u.SetVariable!=b){q=u}}}}return q},embedSWF:function(x,AE,AB,AD,q,w,r,z,AC){if(!h.w3cdom||!x||!AE||!AB||!AD||!q){return }AB+="";AD+="";if(c(q)){W(AE,false);var AA={};if(AC&&typeof AC===Q){for(var v in AC){if(AC[v]!=Object.prototype[v]){AA[v]=AC[v]}}}AA.data=x;AA.width=AB;AA.height=AD;var y={};if(z&&typeof z===Q){for(var u in z){if(z[u]!=Object.prototype[u]){y[u]=z[u]}}}if(r&&typeof r===Q){for(var t in r){if(r[t]!=Object.prototype[t]){if(typeof y.flashvars!=b){y.flashvars+="&"+t+"="+r[t]}else{y.flashvars=t+"="+r[t]}}}}f(function(){U(AA,y,AE);if(AA.id==AE){W(AE,true)}})}else{if(w&&!A&&c("6.0.65")&&(h.win||h.mac)){A=true;W(AE,false);f(function(){var AF={};AF.id=AF.altContentId=AE;AF.width=AB;AF.height=AD;AF.expressInstall=w;k(AF)})}}},getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(t,r,q){if(h.w3cdom){return U(t,r,q)}else{return undefined}},removeSWF:function(q){if(h.w3cdom){X(q)}},createCSS:function(r,q){if(h.w3cdom){V(r,q)}},addDomLoadEvent:f,addLoadEvent:R,getQueryParamValue:function(v){var u=K.location.search||K.location.hash;if(v==null){return g(u)}if(u){var t=u.substring(1).split("&");for(var r=0;r<t.length;r++){if(t[r].substring(0,t[r].indexOf("="))==v){return g(t[r].substring((t[r].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(A&&M){var q=C(m);if(q){q.parentNode.replaceChild(M,q);if(l){W(l,true);if(h.ie&&h.win){M.style.display="block"}}M=null;l=null;A=false}}}}}();function EvDa(w){function c(a,b,d){if(1==arguments.length){if(q(a)){var h={};f(a,function(a,b){h[a]=c(a,b,d,0,1)});f(h,function(b){k(h[b])&&!k(a[b])&&(a[b]=h[b]())});return a}return n(a)?x(a,function(a){return c(a,b,d)}):e[a]}return c[k(b)?p:"set"].apply(this,arguments)}function u(a){f(a.$,function(b){g[b]=v(g[b],a)})}function i(a,b){if(q(a))return f(a,function(b,c){a[b]=i(b,c)}),a;j[a]&&(j[a](),j[a]=0);return b?a in e?b(e[a]):c(a,b,y):a in e}var l=Array.prototype.slice,m=Object.prototype.toString,
n=[].isArray||function(a){return"[object Array]"===m.call(a)},k=function(a){return!(!a||!a.constructor||!a.call||!a.apply)},q=function(a){return""===a||a&&a.charCodeAt&&a.substr?!1:null==a?"object"==""+a:"[object Object]"===m.call(a)||!0},f=[].forEach?function(a,b){if(n(a)||a.length)l.call(a).forEach(b);else for(var d in a)b(d,a[d])}:function(a,b){if(n(a))for(var d=0,c=a.length;d<c;d++)b(a[d],d);else for(d in a)b(d,a[d])},r={}.keys||function(a){if(n(a))return a;var b=[],d;for(d in a)b.push(d);return b},
v=function(a,b){var d=[];f(a,function(a){a!==b&&d.push(a)});return d},z=function(a){var b,d=[];f(r(a).sort(),function(a){a!=b&&(b=a,d.push(a))});return d},A=function(a,b){var d=[];f(a,function(a){b(a)&&d.push(a)});return d},o=function(a){return a&&"length"in a?a.length:0},x=[].map?function(a,b){return a.map(b)}:function(a,b){for(var d=[],c=0,e=obj.length;c<e;c++)d.push(b(obj[c],c));return d},s=function(a){f(l.call(arguments,1),function(b){for(var d in b)void 0!==b[d]&&(a[d]=b[d])});return a},p="on",
y={once:1},e=w||{},j={},g={};f([p,"after","test"],function(a){c[a]=function(b,d,c){d||(d=b,b="__base");(d.$||(d.$=[])).push(a+b);(g[a+b]||(g[a+b]=[])).push(d);return s(d,c)}});s(c,{list:{},db:e,events:g,del:u,isset:i,setter:function(a,b){j[a]=b;g[p+a]&&i(a)},incr:function(a){return c.set(a,"[object Number]"===m.call(e[a])?e[a]+1:1)},decr:function(a){return c.set(a,e[a]-1||0)},push:function(a,b){1==o(arguments)&&(b=a,a="__base");return c.set(a,[].concat(e[a]||[],[b]))},pop:function(a){return c.set(a||
"__base",e[a].slice(0,-1))},group:function(a){var b=l.call(arguments),a=b.shift(),b=c.apply(0,b);c.list[a]||(c.list[a]=[]);k(b)?c.list[a].push(b):f(b,function(b){c.list[a].push(b)});return function(){return c.group.apply(0,[a].concat(l.call(arguments)))}},set:function(a,b,d,h,k){var t="test"+a,j=o(g[t]),i,m={meta:d||{},old:n(e[a])?l.call(e[a]):q(e[a])?s(e[a],{}):e[a],key:a,done:function(e){i|=!1===e;--j||i||c.set(a,b,d,1)}};if(j&&!h)f(g[t],function(a){a(b,m)});else return e[a]=b,h=function(){f((g[p+
a]||[]).concat(g["after"+a]||[]),function(a){a.S||(a(b,m),a.once&&u(a))});return b},k?h:h();return b},once:function(a,b){return c(a,b,{once:!0})},enable:function(a){f(c.list[a],function(b){b.S&&b.S[a]&&delete b.S[a];0==o(b.S)&&delete b.S})},setadd:function(a,b){return c(a,z((e[a]||[]).concat([b])))},setdel:function(a,b){return c(a,v(e[a]||[],b))},disable:function(a){f(c.list[a],function(b){(b.S||(b.S={}))[a]=!0})},unset:function(){f(arguments,function(a){delete e[a]})},find:function(a){return A(r(e),
function(b){return b.match(a)})},added:function(a,b){b||(b=a,a="__base");c.on(a,function(a,c){var e=o(a),f=o(c.old);1==e-f?b(a.length?a[a.length-1]:void 0):e>f&&b(l.call(a).slice(f))})},sniff:function(){c.set_=c.set;var a={};c.set=function(){var b=Array.prototype.slice.call(arguments);a[b[0]]||console.log(+new Date,b);c.set_.apply(this,b)};c.sniff=function(b){if(b)return a[b]=!a[b],"[Un]ignoring "+b;console.log(r(a))}}});c.change=c.on;c.add=c.push;return c};
(function(){function E(a){var d={};l(a,function(a){d[a]=!0});return d}function F(a,d){var b=arguments.length,c=1==b?a:d,f,e={};i.isArr(c)?(b=c.length,f=function(a){for(var e=0;e<b;e++)if(-1<p(a,c[e]))return!0;return!1}):f=function(a){return-1<p(a,c)};return 2==b?(e={},e[a]=f,e):f}function G(a){return a.length?n.call(a):r(a)}function s(){var a=n.call(arguments),d,b,c,f,e,g,h,k=G(i.isArr(this)?this:a.shift());2==a.length&&i.isStr(a[0])&&(c={},c[a[0]]=a[1],a=[o({},c)]);for(b=0;b<a.length;b++)if(d=a[b],
i.isFun(d)){d=d.single||d;for(e=k.length,h=e-1;0<=h;h--)c=k[h],d(c)&&(e-(h+1)&&(g=h+1,k.splice(g,e-g)),e=h);g=h+1;e-g&&k.splice(g,e-g)}else l(d,function(a,b){if(i.isFun(b))for(e=k.length,h=e-1;0<=h;h--)c=k[h],a in c&&(f=c[a],i.isFun(f)&&(f=f()),b(f,c)&&(e-(h+1)&&(g=h+1,k.splice(g,e-g)),e=h));else for(e=k.length,h=e-1;0<=h;h--)c=k[h],f=c[a],i.isFun(f)&&(f=f()),a in c&&f===b&&(e-(h+1)&&(g=h+1,k.splice(g,e-g)),e=h);g=h+1;e-g&&k.splice(g,e-g)});return k}function v(){var a=E(n.call(arguments));return function(d){for(var b in a)if(b in
d)return!1;return!0}}function w(a,d){var b,c=arguments.length,f,e={};1==c?f=a:2==c&&(f=d);f=f.toString().toLowerCase();b=function(a){return-1<a.toString().toLowerCase().search(f)};return 2==c?(e={},e[a]=b,e):b}function x(a){var d={x:a};return function(a,c){2==arguments.length&&(d[a]=c);return d[a]}}function r(a){var d=[],b;for(b in a)d.push(a[b]);return d}function H(a,d){var b,c=this;d!==y&&(b=a,a={},a[b]=d);i.isFun(a)?l(c,a):l(a,function(a,b){i.isFun(b)?l(c,function(c){if(i.isFun(c[a]))c[a](b(c));
else c[a]=b(c)}):l(c,function(c){if(i.isFun(c[a]))c[a](b);else c[a]=b})});return this}function o(a,d){for(var b,c,f,e,g=arguments.length,h=0;h<g;h++){b=arguments[h];for(var k in b)c=a[k],f=b[k],a!==f&&(f&&(f.constructor==Object||(e=i.isArr(f)))?(e?(e=!1,c=c&&i.isArr(constructor)?c:[]):c=c&&c.constructor==Object?c:{},a[k]=o(c,f)):f!==y&&(a[k]=f))}return a}function t(a,d){var b=[],c;2==arguments.length?(c=a,a=d):c=this;if(i.isArr(c))b=z(c,a);else{var b={},f;for(f in c)i.isFun(c[f])||(b[f]=a.call(this,
c[f]))}return b}function A(a){q++;for(var d=0,b=a.length;d<b;d++)a[d].constructor("i",q)}var y,n=Array.prototype.slice,u=Object.prototype.toString,B={},C={},q=0,i={isFun:function(a){return!(!a||!a.constructor||!a.call||!a.apply)},isStr:function(a){return!!(""===a||a&&a.charCodeAt&&a.substr)},isNum:function(a){return"[object Number]"===u.call(a)},isArr:[].isArray||function(a){return"[object Array]"===u.call(a)},isObj:function(a){return null==a?"object"==""+a:"[object Object]"===u.call(a)||!0}},p=[].indexOf?
function(a,d){return a.indexOf(d)}:function(a,d){for(var b=a.length-1;-1!=b&&d!=a[b];b--);return b},z=[].map?function(a,d){return a.map(d)}:function(a,d){for(var b=[],c=0,f=obj.length;c<f;c++)b.push(d(obj[c],c));return b},l=[].forEach?function(a,d){if(i.isArr(a))a.forEach(d);else for(var b in a)d(b,a[b])}:function(a,d){if(i.isArr(a))for(var b=0,c=a.length;b<c;b++)d(a[b],b);else for(b in a)d(b,a[b])};l("< <= > >= == === != !==".split(" "),function(a){C[a]=Function("rhs","return function(x){return x"+
a+"rhs}")});var D=function(){var a={};return function(d,b){var c,f=arguments.length,e=1==f?d:b||[],g={};if(!i.isArr(e))throw new TypeError("isin's argument is wrong. ",e);e.length?20>e.length&&i.isNum(e[0])?(c=e.join(","),c=a[c]?a[c]:a[c]=new Function("x","return x=="+e.join("||x=="))):c=function(a){return-1<p(e,a)}:c=i.isFun(e)?function(a){return-1<p(e(),a)}:e;return 2==f?(g={},g[d]=c,g):c}}(),I=function(){var a=/^\s*([=<>!]+)['"]*(.*)$/,d,b={};return function(){return function(c,f){var e,g;if(i.isStr(c)){g=
c;if(1==arguments.length)if(b[g])e=b[g];else{try{e=new Function("x,rec","return x "+g)}catch(h){e={}}try{e.single=new Function("rec","return "+c)}catch(k){}b[g]=e}2==arguments.length&&i.isStr(f)&&(e={},g=f,b[g]||(b[g]=null!==(d=g.match(a))?C[d[1]](d[2].replace(/['"]$/,"")):new Function("x,rec","return x "+g)),e[c]=b[g]);return e}}}}(),J=function(a){var d={};l(a,function(a){d[a]=!0});return d}("has hasKey insert invert missing isin group keyBy remove update where select find sort orderBy order each like".split(" "));
self.DB=function(a,d){function b(){h||(h=!0,l(g,function(a){a.call(j,m)}),h=!1)}function c(a){for(var c in J)a[c]=j[c];return a}function f(a){for(var c=[],b=0,e=a.length;b<e;b++)c[b]=m[a[b]];return c}var e={},g=[],h=!1,k=!1,j=I(),m=[];o(j,{constrain:function(){var a=o,c=e,b;var d=arguments,f={};2==d.length?(f[d[0]]=d[1],b=f):1==d.length&&(b=d[0]);a(c,b)},each:t,findFirst:function(){var a=j.find.apply(this,n.call(arguments));return a.length?a[0]:{}},has:F,hasKey:function(){return j.find(v.apply(this,
n.call(arguments))).invert()},isin:D,like:w,invert:function(a){var b=m,d=[];A(a||this);for(var a=0,e=b.length;a<e;a++)b[a].constructor("i")!=q&&d.push(b[a]);return c(d)},map:t,missing:function(){return j.find(v.apply(this,n.call(arguments)))},sync:function(a){a?g.push(a):b()},template:{create:function(a){k=a},update:function(a){o(k||{},a)},get:function(){return k},destroy:function(){k=!1}},update:function(){var a=H.apply(i.isArr(this)?this:j.find(),n.call(arguments));b();return c(a)}});j.group=function(a){var b=
{},d=i.isArr(this)?this:j.find();l(d,function(d){a in d&&(b[d[a]]||(b[d[a]]=c([])),b[d[a]].push(d))});return b};j.keyBy=function(a){var b=j.group.apply(this,arguments);l(b,function(a,c){b[a]=c[0]});return b};j.order=j.sort=j.orderBy=function(a,b){var d,e=arguments.length,f,g=i.isArr(this)?this:j.find();i.isFun(a)?d=a:i.isStr(a)&&(1==e?f="x-y":2==e&&(f=i.isStr(b)?{asc:"x-y",desc:"y-x"}[b.toLowerCase()]:b),i.isStr(f)&&!B[f]&&(B[f]=new Function("x,y","return "+f)),eval("fnSort=function(a,b){return order(a."+
a+", b."+a+")}"));return c(n.call(g).sort(d))};j.where=j.find=function(){var a=n.call(arguments||[]);i.isArr(this)||(a=[m].concat(a));return c(s.apply(this,a))};j.view=function(a){var c={};j.sync(function(b){var d={},e;l(b,function(b){a in b&&(d[b[a]]=b)});for(e in d)e in c?c[e]!==d[e]&&(c[e]=d[e]):c[e]=d[e];for(e in c)e in d||delete c[e]});b();return c};j.select=function(a){var b=i.isArr(this)?this:j.find(),d,e={};1<arguments.length?a=n.call(arguments):i.isStr(a)&&(a=[a]);d=a.length;l(a,function(a,
c){if("*"==a)e=z(b,r);else for(var f=0,g=b.length;f<g;f++)row=b[f],a in row&&(1<d?(e[f]||(e[f]=[]),e[f][c]=row[a]):e[f]=row[a])});return c(r(e))};j.insert=function(a){var d={},g=[],h=[];1<arguments.length?g=n.call(arguments):i.isArr(a)?g=a:g.push(a);l(g,function(a){if(e.unique&&(d={},l(m,function(a,b){d[a[e.unique]]=b}),a[e.unique]in d)){h.push(d[a[e.unique]]);return}var b=m.length,c;if(k){var f={};l(k,function(a,b){f[a]=i.isFun(b)?b():b});a=o(f,a)}try{c=new (x(b)),o(c,a),m.push(c)}catch(g){a.constructor=
x(b),m.push(a)}h.push(b)});b();return c(f(h))};j.remove=function(a,d){var e,f,g=[];e=i.isArr(this)?this:i.isArr(a)?a:0<arguments.length?j.find.apply(this,n.call(arguments)):j.find();A(e);var h=m.length-1;for(e=m.length;0<=h;h--)m[h].constructor("i")==q?g.push(m[h]):(e-(h+1)&&(f=h+1,m.splice(f,e-f)),e=h);f=h+1;e-f&&m.splice(f,e-f);b();return c(g.reverse())};if(1==arguments.length)if(i.isArr(a))j.insert(a);else if(i.isFun(a))j.insert(a());else{if(i.isStr(a))return j.apply(this,arguments);i.isObj(a)&&
j.insert(a)}else 1<arguments.length&&j.insert(n.call(arguments));j.__raw__=m;return j};o(DB,{find:s,each:t,like:w,isin:D,objectify:function(a,d){var b=[];l(d,function(c){var d={};l(a,function(a,b){d[a]=c[b]});b.push(d)});return b},findFirst:function(){var a=s.apply(this,n.call(arguments));return a.length?a[0]:{}},reduceLeft:function(a,d){var b=i.isStr(d)?new Function("y,x","return y "+d):d;return function(c){for(var d=a,e=0,g=c.length;e<g;e++)c[e]&&(d=b(d,c[e]));return d}},reduceRight:function(a,
d){d=DB.reduceLeft(a,d);return function(a){return d(a.reverse())}}})})();
